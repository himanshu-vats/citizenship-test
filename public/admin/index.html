<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex" />
    <title>Content Manager</title>
  </head>
  <body>
    <!-- OAuth Debug Logger -->
    <script>
      console.log("=== CMS Admin Page Loaded ===");

      // Listen ONLY for debug logs, don't interfere with auth messages
      window.addEventListener('message', function(event) {
        if (event.data && event.data.type === 'OAUTH_DEBUG_LOG') {
          // Only log our debug messages
          console.log(event.data.message, event.data.data || '');
        } else if (typeof event.data === 'string' && event.data.startsWith('authorization:')) {
          // Log auth messages but don't prevent Decap CMS from processing them
          console.log('[Admin] âœ… Auth message received, Decap CMS should process it now');
          console.log('[Admin] Message:', event.data.substring(0, 60) + '...');
        }
        // Don't preventDefault or stopPropagation - let Decap CMS also receive it
      }, false);
    </script>

    <!-- Include the script that builds the page and powers Decap CMS -->
    <script src="https://unpkg.com/decap-cms@^3.3.0/dist/decap-cms.js"></script>
  </body>
</html>
